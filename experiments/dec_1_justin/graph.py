ESCI_ali = {"mean_map_cut_5": 0.2351425928729725, "mean_map_cut_10": 0.3827323325419686, "mean_map_cut_100": 0.6351668699090243, "mean_P_5": 0.7999999999999998, "mean_recall_5": 0.24779386602505832, "mean_recall_10": 0.4249215330688248, "mean_success_1": 0.91, "mean_success_5": 1.0, "mean_success_10": 1.0, "mean_map_cut_5_ub_ci": 0.26287088273235343, "mean_map_cut_5_lb_ci": 0.20741430301359157, "mean_map_cut_10_ub_ci": 0.4214039751425506, "mean_map_cut_10_lb_ci": 0.34406068994138655, "mean_map_cut_100_ub_ci": 0.6799679666113808, "mean_map_cut_100_lb_ci": 0.5903657732066677, "mean_P_5_ub_ci": 0.8495209574518522, "mean_P_5_lb_ci": 0.7504790425481475, "mean_recall_5_ub_ci": 0.27512387634705876, "mean_recall_5_lb_ci": 0.22046385570305785, "mean_recall_10_ub_ci": 0.4644232427235052, "mean_recall_10_lb_ci": 0.3854198234141444, "mean_success_1_ub_ci": 0.9663731683986407, "mean_success_1_lb_ci": 0.8536268316013593, "mean_success_5_ub_ci": 1.0, "mean_success_5_lb_ci": 1.0, "mean_success_10_ub_ci": 1.0, "mean_success_10_lb_ci": 1.0}
ESCI_miniLM = {"mean_map_cut_5": 0.1699631206788912, "mean_map_cut_10": 0.2544977972372731, "mean_map_cut_100": 0.4013067804900512, "mean_P_5": 0.6380000000000001, "mean_recall_5": 0.1889601173428347, "mean_recall_10": 0.2995038653138165, "mean_success_1": 0.73, "mean_success_5": 0.94, "mean_success_10": 0.95, "mean_map_cut_5_ub_ci": 0.19491946706889252, "mean_map_cut_5_lb_ci": 0.14500677428888986, "mean_map_cut_10_ub_ci": 0.2894467992332608, "mean_map_cut_10_lb_ci": 0.21954879524128543, "mean_map_cut_100_ub_ci": 0.4492407723075664, "mean_map_cut_100_lb_ci": 0.35337278867253596, "mean_P_5_ub_ci": 0.7029018998445115, "mean_P_5_lb_ci": 0.5730981001554888, "mean_recall_5_ub_ci": 0.21285215311446196, "mean_recall_5_lb_ci": 0.16506808157120742, "mean_recall_10_ub_ci": 0.3352354540009609, "mean_recall_10_lb_ci": 0.26377227662667213, "mean_success_1_ub_ci": 0.8174528174987681, "mean_success_1_lb_ci": 0.6425471825012319, "mean_success_5_ub_ci": 0.9867810586601579, "mean_success_5_lb_ci": 0.893218941339842, "mean_success_10_ub_ci": 0.9929316221641598, "mean_success_10_lb_ci": 0.9070683778358402}
MS_MARCO_q100_ali = {"mean_map_cut_5": 0.9791666666666665, "mean_map_cut_10": 0.9791666666666665, "mean_map_cut_100": 0.9791666666666665, "mean_P_5": 0.20799999999999996, "mean_recall_5": 1.0, "mean_recall_10": 1.0, "mean_success_1": 0.96, "mean_success_5": 1.0, "mean_success_10": 1.0, "mean_map_cut_5_ub_ci": 0.9995870822590942, "mean_map_cut_5_lb_ci": 0.9587462510742388, "mean_map_cut_10_ub_ci": 0.9995870822590942, "mean_map_cut_10_lb_ci": 0.9587462510742388, "mean_map_cut_100_ub_ci": 0.9995870822590942, "mean_map_cut_100_lb_ci": 0.9587462510742388, "mean_P_5_ub_ci": 0.2157201564519305, "mean_P_5_lb_ci": 0.20027984354806944, "mean_recall_5_ub_ci": 1.0, "mean_recall_5_lb_ci": 1.0, "mean_recall_10_ub_ci": 1.0, "mean_recall_10_lb_ci": 1.0, "mean_success_1_ub_ci": 0.9986007822596527, "mean_success_1_lb_ci": 0.9213992177403473, "mean_success_5_ub_ci": 1.0, "mean_success_5_lb_ci": 1.0, "mean_success_10_ub_ci": 1.0, "mean_success_10_lb_ci": 1.0}
MS_MARCO_q100_miniLM = {"mean_map_cut_5": 0.9, "mean_map_cut_10": 0.9014285714285714, "mean_map_cut_100": 0.9017989417989418, "mean_P_5": 0.204, "mean_recall_5": 0.985, "mean_recall_10": 0.99, "mean_success_1": 0.84, "mean_success_5": 0.99, "mean_success_10": 0.99, "mean_map_cut_5_ub_ci": 0.9449551943319018, "mean_map_cut_5_lb_ci": 0.8550448056680983, "mean_map_cut_10_ub_ci": 0.9459758874456567, "mean_map_cut_10_lb_ci": 0.856881255411486, "mean_map_cut_100_ub_ci": 0.9460604470023951, "mean_map_cut_100_lb_ci": 0.8575374365954885, "mean_P_5_ub_ci": 0.2118398559381602, "mean_P_5_lb_ci": 0.19616014406183976, "mean_recall_5_ub_ci": 1.0068243462938005, "mean_recall_5_lb_ci": 0.9631756537061995, "mean_recall_10_ub_ci": 1.0095996398454006, "mean_recall_10_lb_ci": 0.9704003601545994, "mean_success_1_ub_ci": 0.912215451038541, "mean_success_1_lb_ci": 0.767784548961459, "mean_success_5_ub_ci": 1.0095996398454006, "mean_success_5_lb_ci": 0.9704003601545994, "mean_success_10_ub_ci": 1.0095996398454006, "mean_success_10_lb_ci": 0.9704003601545994}
ROEGEN_ali = {"mean_map_cut_5": 0.02684292290322854, "mean_map_cut_10": 0.040370271807158534, "mean_map_cut_100": 0.1556184650254147, "mean_P_5": 0.46799999999999997, "mean_recall_5": 0.03620751558406841, "mean_recall_10": 0.05988586439476478, "mean_success_1": 0.46, "mean_success_5": 0.86, "mean_success_10": 0.94, "mean_map_cut_5_ub_ci": 0.03426633204438265, "mean_map_cut_5_lb_ci": 0.019419513762074427, "mean_map_cut_10_ub_ci": 0.050538974703875736, "mean_map_cut_10_lb_ci": 0.03020156891044133, "mean_map_cut_100_ub_ci": 0.18480852495343159, "mean_map_cut_100_lb_ci": 0.12642840509739783, "mean_P_5_ub_ci": 0.5452785799618649, "mean_P_5_lb_ci": 0.390721420038135, "mean_recall_5_ub_ci": 0.044286169848494865, "mean_recall_5_lb_ci": 0.02812886131964195, "mean_recall_10_ub_ci": 0.07233409603392825, "mean_recall_10_lb_ci": 0.04743763275560131, "mean_success_1_ub_ci": 0.5995487166094893, "mean_success_1_lb_ci": 0.32045128339051077, "mean_success_5_ub_ci": 0.9571545835371497, "mean_success_5_lb_ci": 0.7628454164628503, "mean_success_10_ub_ci": 1.0064950938020072, "mean_success_10_lb_ci": 0.8735049061979928}
ROEGEN_miniLM = {"mean_map_cut_5": 0.012485554806815055, "mean_map_cut_10": 0.021387980903913428, "mean_map_cut_100": 0.11064291677252576, "mean_P_5": 0.28800000000000003, "mean_recall_5": 0.02080475875590149, "mean_recall_10": 0.041674868824888, "mean_success_1": 0.26, "mean_success_5": 0.7, "mean_success_10": 0.9, "mean_map_cut_5_ub_ci": 0.016209824816126223, "mean_map_cut_5_lb_ci": 0.008761284797503887, "mean_map_cut_10_ub_ci": 0.02784555928120272, "mean_map_cut_10_lb_ci": 0.014930402526624136, "mean_map_cut_100_ub_ci": 0.1327180581570307, "mean_map_cut_100_lb_ci": 0.08856777538802083, "mean_P_5_ub_ci": 0.3553479302183482, "mean_P_5_lb_ci": 0.22065206978165186, "mean_recall_5_ub_ci": 0.026318783839325954, "mean_recall_5_lb_ci": 0.015290733672477028, "mean_recall_10_ub_ci": 0.05059303216886077, "mean_recall_10_lb_ci": 0.032756705480915235, "mean_success_1_ub_ci": 0.3828153315149769, "mean_success_1_lb_ci": 0.13718466848502314, "mean_success_5_ub_ci": 0.8283097616934578, "mean_success_5_lb_ci": 0.5716902383065421, "mean_success_10_ub_ci": 0.983998456480288, "mean_success_10_lb_ci": 0.816001543519712}
Wayfair_exact_ali = {"mean_map_cut_5": 0.1707033631395299, "mean_map_cut_10": 0.20631882502350843, "mean_map_cut_100": 0.37637242187311404, "mean_P_5": 0.4823218997361478, "mean_recall_5": 0.196698485610713, "mean_recall_10": 0.25377410365914804, "mean_success_1": 0.6015831134564644, "mean_success_5": 0.7810026385224275, "mean_success_10": 0.8443271767810027, "mean_map_cut_5_ub_ci": 0.2000951855811845, "mean_map_cut_5_lb_ci": 0.14131154069787533, "mean_map_cut_10_ub_ci": 0.23626875501254094, "mean_map_cut_10_lb_ci": 0.17636889503447592, "mean_map_cut_100_ub_ci": 0.40929907598796533, "mean_map_cut_100_lb_ci": 0.34344576775826274, "mean_P_5_ub_ci": 0.5212351463196837, "mean_P_5_lb_ci": 0.44340865315261196, "mean_recall_5_ub_ci": 0.22840334752942226, "mean_recall_5_lb_ci": 0.1649936236920037, "mean_recall_10_ub_ci": 0.2868469844367056, "mean_recall_10_lb_ci": 0.22070122288159047, "mean_success_1_ub_ci": 0.6509367181582032, "mean_success_1_lb_ci": 0.5522295087547257, "mean_success_5_ub_ci": 0.822694173288669, "mean_success_5_lb_ci": 0.7393111037561859, "mean_success_10_ub_ci": 0.8808752070662311, "mean_success_10_lb_ci": 0.8077791464957742}
Wayfair_exact_miniLM = {"mean_map_cut_5": 0.06854882990844625, "mean_map_cut_10": 0.08648377311861864, "mean_map_cut_100": 0.16034492890715665, "mean_P_5": 0.2981530343007916, "mean_recall_5": 0.08919988486516896, "mean_recall_10": 0.13416315041025367, "mean_success_1": 0.3562005277044855, "mean_success_5": 0.5963060686015831, "mean_success_10": 0.683377308707124, "mean_map_cut_5_ub_ci": 0.08711338156899283, "mean_map_cut_5_lb_ci": 0.04998427824789968, "mean_map_cut_10_ub_ci": 0.10584488839908682, "mean_map_cut_10_lb_ci": 0.06712265783815047, "mean_map_cut_100_ub_ci": 0.18355651350470745, "mean_map_cut_100_lb_ci": 0.13713334430960586, "mean_P_5_ub_ci": 0.33279263141865867, "mean_P_5_lb_ci": 0.2635134371829245, "mean_recall_5_ub_ci": 0.11075013548727755, "mean_recall_5_lb_ci": 0.06764963424306036, "mean_recall_10_ub_ci": 0.1590723813336957, "mean_recall_10_lb_ci": 0.10925391948681165, "mean_success_1_ub_ci": 0.4044758051648841, "mean_success_1_lb_ci": 0.30792525024408696, "mean_success_5_ub_ci": 0.6457670712731726, "mean_success_5_lb_ci": 0.5468450659299936, "mean_success_10_ub_ci": 0.7302698194088041, "mean_success_10_lb_ci": 0.6364847980054439}

import matplotlib.pyplot as plt
import numpy as np

# Set style and figure size
plt.style.use('default')
fig = plt.figure(figsize=(20, 100))

# Prepare data
datasets = ['ESCI', 'MS-MARCO', 'ROEGEN', 'Wayfair']
width = 0.35

# Define data dictionaries
map_5_values = {
    'ali': [ESCI_ali['mean_map_cut_5'], MS_MARCO_q100_ali['mean_map_cut_5'], 
            ROEGEN_ali['mean_map_cut_5'], Wayfair_exact_ali['mean_map_cut_5']],
    'miniLM': [ESCI_miniLM['mean_map_cut_5'], MS_MARCO_q100_miniLM['mean_map_cut_5'],
               ROEGEN_miniLM['mean_map_cut_5'], Wayfair_exact_miniLM['mean_map_cut_5']]
}

success_1_values = {
    'ali': [ESCI_ali['mean_success_1'], MS_MARCO_q100_ali['mean_success_1'], 
            ROEGEN_ali['mean_success_1'], Wayfair_exact_ali['mean_success_1']],
    'miniLM': [ESCI_miniLM['mean_success_1'], MS_MARCO_q100_miniLM['mean_success_1'],
               ROEGEN_miniLM['mean_success_1'], Wayfair_exact_miniLM['mean_success_1']]
}

precision_5_values = {
    'ali': [ESCI_ali['mean_P_5'], MS_MARCO_q100_ali['mean_P_5'], 
            ROEGEN_ali['mean_P_5'], Wayfair_exact_ali['mean_P_5']],
    'miniLM': [ESCI_miniLM['mean_P_5'], MS_MARCO_q100_miniLM['mean_P_5'],
               ROEGEN_miniLM['mean_P_5'], Wayfair_exact_miniLM['mean_P_5']]
}

# Define additional data dictionaries
map_10_values = {
    'ali': [ESCI_ali['mean_map_cut_10'], MS_MARCO_q100_ali['mean_map_cut_10'], 
            ROEGEN_ali['mean_map_cut_10'], Wayfair_exact_ali['mean_map_cut_10']],
    'miniLM': [ESCI_miniLM['mean_map_cut_10'], MS_MARCO_q100_miniLM['mean_map_cut_10'],
               ROEGEN_miniLM['mean_map_cut_10'], Wayfair_exact_miniLM['mean_map_cut_10']]
}

map_100_values = {
    'ali': [ESCI_ali['mean_map_cut_100'], MS_MARCO_q100_ali['mean_map_cut_100'], 
            ROEGEN_ali['mean_map_cut_100'], Wayfair_exact_ali['mean_map_cut_100']],
    'miniLM': [ESCI_miniLM['mean_map_cut_100'], MS_MARCO_q100_miniLM['mean_map_cut_100'],
               ROEGEN_miniLM['mean_map_cut_100'], Wayfair_exact_miniLM['mean_map_cut_100']]
}

recall_5_values = {
    'ali': [ESCI_ali['mean_recall_5'], MS_MARCO_q100_ali['mean_recall_5'], 
            ROEGEN_ali['mean_recall_5'], Wayfair_exact_ali['mean_recall_5']],
    'miniLM': [ESCI_miniLM['mean_recall_5'], MS_MARCO_q100_miniLM['mean_recall_5'],
               ROEGEN_miniLM['mean_recall_5'], Wayfair_exact_miniLM['mean_recall_5']]
}

recall_10_values = {
    'ali': [ESCI_ali['mean_recall_10'], MS_MARCO_q100_ali['mean_recall_10'], 
            ROEGEN_ali['mean_recall_10'], Wayfair_exact_ali['mean_recall_10']],
    'miniLM': [ESCI_miniLM['mean_recall_10'], MS_MARCO_q100_miniLM['mean_recall_10'],
               ROEGEN_miniLM['mean_recall_10'], Wayfair_exact_miniLM['mean_recall_10']]
}

success_5_values = {
    'ali': [ESCI_ali['mean_success_5'], MS_MARCO_q100_ali['mean_success_5'], 
            ROEGEN_ali['mean_success_5'], Wayfair_exact_ali['mean_success_5']],
    'miniLM': [ESCI_miniLM['mean_success_5'], MS_MARCO_q100_miniLM['mean_success_5'],
               ROEGEN_miniLM['mean_success_5'], Wayfair_exact_miniLM['mean_success_5']]
}

success_10_values = {
    'ali': [ESCI_ali['mean_success_10'], MS_MARCO_q100_ali['mean_success_10'], 
            ROEGEN_ali['mean_success_10'], Wayfair_exact_ali['mean_success_10']],
    'miniLM': [ESCI_miniLM['mean_success_10'], MS_MARCO_q100_miniLM['mean_success_10'],
               ROEGEN_miniLM['mean_success_10'], Wayfair_exact_miniLM['mean_success_10']]
}

# Update metrics list to include all metrics
metrics = [
    ('MAP@5', map_5_values, 'Mean Average Precision at k=5'),
    ('MAP@10', map_10_values, 'Mean Average Precision at k=10'),
    ('MAP@100', map_100_values, 'Mean Average Precision at k=100'),
    ('Precision@5', precision_5_values, 'Precision at k=5'),
    ('Recall@5', recall_5_values, 'Recall at k=5'),
    ('Recall@10', recall_10_values, 'Recall at k=10'),
    ('Success@1', success_1_values, 'Success Rate at k=1'),
    ('Success@5', success_5_values, 'Success Rate at k=5'),
    ('Success@10', success_10_values, 'Success Rate at k=10')
]

# Update the plotting loop
for idx, (metric_name, values, title) in enumerate(metrics, 1):
    ax = plt.subplot(9, 1, idx)
    x = np.arange(len(datasets))
    
    # Create bars
    ax.bar(x - width/2, values['ali'], width, label='Alibaba-NLP-gte-large', color='#2ecc71')
    ax.bar(x + width/2, values['miniLM'], width, label='all-MiniLM-L6', color='#e74c3c')
    
    # Customize plot
    ax.set_ylabel(metric_name)
    ax.set_title(title)
    ax.set_xticks(x)
    ax.set_xticklabels(datasets)
    ax.legend()
    
    # Add value labels on top of bars
    for i, v in enumerate(values['ali']):
        ax.text(i - width/2, v + 0.01, f'{v:.2f}', ha='center', va='bottom')
    for i, v in enumerate(values['miniLM']):
        ax.text(i + width/2, v + 0.01, f'{v:.2f}', ha='center', va='bottom')
    
    # Set y-axis limits
    ax.set_ylim(0, 1.1)

plt.tight_layout()
plt.show()